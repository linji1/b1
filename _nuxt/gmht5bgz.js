import{_ as N}from"./oqvp7yz5.js";import{e as _,f as k,o,c as r,a as e,b as l,w as y,h as n,t as S,j as u,i as F,S as x,q as L,R,ae as C,u as j,A as D,F as E}from"./jn4tgqpo.js";import{i as V,l as H,_ as B,f as O,a as M}from"./e8ce4k72.js";import{_ as T}from"./c6y0bbv0.js";import"./ec7yh18l.js";import"./ou69qqfo.js";import"./eytrhzjt.js";import"./md9ta363.js";const G={class:"footer p-4 flex justify-center items-center text-xs"},I={class:"flex flex-col gap-1 items-center"},P={key:0,class:"my-2 text-gray-500",href:"https://beian.miit.gov.cn/",target:"_blank"},q=_({__name:"Footer",setup(b){const s=k("sysConfig");return(c,d)=>{const f=N;return o(),r("div",G,[e("div",I,[l(f,{to:"https://github.com/kingwrcy/moments",target:"_blank"},{default:y(()=>d[0]||(d[0]=[e("img",{src:"https://img.shields.io/github/stars/kingwrcy/moments",class:"h-6 inline-block mr-1",alt:"github"},null,-1)])),_:1}),n(s).beiAnNo?(o(),r("a",P,S(n(s).beiAnNo),1)):u("",!0)])])}}}),K={class:"flex items-center justify-between gap-4 p-8 pt-2 text-gray-500 dark:text-white"},W={class:"flex flex-col items-center gap-1"},z=_({__name:"MobileNav",setup(b){const s=V(),c=H(),d=k("sidebarOpen",()=>!1),f=()=>{c.value==="dark"?c.value="light":c.value="dark"},h=async p=>{d.value=!1,await R(p)};return(p,t)=>{const i=B,m=T;return o(),F(m,{modelValue:n(d),"onUpdate:modelValue":t[4]||(t[4]=a=>L(d)?d.value=a:null),ui:{container:"sm:items-end"}},{default:y(()=>[n(s).userinfo.token?(o(),r("div",{key:0,onClick:t[0]||(t[0]=a=>h("/new")),title:"发表",class:"flex flex-col items-center p-4 pt-8 text-gray-500 dark:text-white"},[l(i,{name:"i-carbon-camera",class:"text-[#9fc84a] w-7 h-7 cursor-pointer"}),t[5]||(t[5]=e("span",null,"发表",-1))])):u("",!0),e("div",K,[e("div",W,[n(c)==="light"?(o(),r("svg",{key:0,onClick:f,xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"#FDE047","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-moon-star-icon cursor-pointer"},t[6]||(t[6]=[e("path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9"},null,-1),e("path",{d:"M20 3v4"},null,-1),e("path",{d:"M22 5h-4"},null,-1)]))):(o(),r("svg",{key:1,onClick:f,xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",stroke:"#FDE047","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-sun-icon cursor-pointer"},t[7]||(t[7]=[e("circle",{cx:"12",cy:"12",r:"4"},null,-1),e("path",{d:"M12 2v2"},null,-1),e("path",{d:"M12 20v2"},null,-1),e("path",{d:"m4.93 4.93 1.41 1.41"},null,-1),e("path",{d:"m17.66 17.66 1.41 1.41"},null,-1),e("path",{d:"M2 12h2"},null,-1),e("path",{d:"M20 12h2"},null,-1),e("path",{d:"m6.34 17.66-1.41 1.41"},null,-1),e("path",{d:"m19.07 4.93-1.41 1.41"},null,-1)]))),e("span",{onClick:f},S(n(c)==="light"?"暗色":"亮色"),1)]),(p._.provides[x]||p.$route).path!=="/user/calendar"&&n(s).userinfo.token?(o(),r("div",{key:0,onClick:t[1]||(t[1]=a=>h("/user/calendar")),title:"日历检索",class:"flex flex-col items-center"},[l(i,{name:"i-jam-search-folder",class:"text-[#9fc84a] w-6 h-6 cursor-pointer"}),t[8]||(t[8]=e("span",null,"检索",-1))])):u("",!0),(p._.provides[x]||p.$route).path!=="/sys/settings"&&n(s).userinfo.id===1?(o(),r("div",{key:1,onClick:t[2]||(t[2]=a=>h("/sys/settings")),title:"系统设置",class:"flex flex-col items-center"},[l(i,{name:"i-carbon-settings",class:"text-[#9fc84a] w-6 h-6 cursor-pointer"}),t[9]||(t[9]=e("span",null,"系统",-1))])):u("",!0),(p._.provides[x]||p.$route).path!=="/user/settings"&&n(s).userinfo.token?(o(),r("div",{key:2,onClick:t[3]||(t[3]=a=>h("/user/settings")),title:"用户中心",class:"flex flex-col items-center"},[l(i,{name:"i-carbon-user-avatar",class:"text-[#9fc84a] w-6 h-6 cursor-pointer"}),t[10]||(t[10]=e("span",null,"用户",-1))])):u("",!0)])]),_:1},8,["modelValue"])}}}),J={class:"w-full md:w-[567px] mx-auto h-full shadow-2xl"},Q={key:0,title:"到顶部",class:"hidden sm:block bottom-[20%] sm:right-[20%] md:right-[10%] lg:right-[15%] xl:right-[20%] 2xl:right-[28%] fixed flex items-center justify-center"},X={class:"sm:hidden relative"},Y={key:0,class:"right-0 bottom-10 fixed flex items-center justify-end"},Z={class:"flex flex-col items-center gap-2"},ee={key:1,class:"right-0 bottom-10 fixed flex items-center justify-end"},te={class:"flex flex-col items-center gap-2"},ue=_({__name:"default",async setup(b){let s,c;const d=V(),f=k("sidebarOpen",()=>!1),h=k("userinfo"),p=k("sysConfig"),t=([s,c]=C(()=>M("/user/profile")),s=await s,c(),s),i=([s,c]=C(()=>M("/sysConfig/get")),s=await s,c(),s);t&&(h.value=t,p.value=i);const{y:m}=O();return j({title:i.title,link:[{rel:"shortcut icon",type:"image/png",href:i.favicon||"/favicon.png"},{rel:"apple-touch-icon-precomposed",href:i.favicon||"/favicon.png"}],style:[{innerHTML:i.css||""}],script:[{type:"text/javascript",innerHTML:i.js||""}]}),i.enableGoogleRecaptcha&&j({script:[{type:"text/javascript",src:`https://recaptcha.net/recaptcha/api.js?render=${i.googleSiteKey}`}]}),(a,g)=>{const U=q,v=B,$=N,A=z;return o(),r(E,null,[e("div",J,[D(a.$slots,"default"),l(U)]),n(m)>200&&(a._.provides[x]||a.$route).path==="/"?(o(),r("div",Q,[l(v,{name:"i-lets-icons-expand-top-stop",class:"w-10 h-10 text-gray-500 cursor-pointer",onClick:g[0]||(g[0]=w=>m.value=0)})])):u("",!0),e("div",X,[n(d).userinfo.token?(o(),r("div",Y,[e("div",Z,[n(m)>300?(o(),r("div",{key:0,onClick:g[1]||(g[1]=w=>m.value=0),class:"dark:bg-gray-900/85 mr-4 rounded-full bg-slate-50 w-10 h-10 flex items-center justify-center shadow-xl"},[l(v,{name:"i-lets-icons-expand-top-stop",class:"w-6 h-6 text-[#9fc84a] cursor-pointer"})])):u("",!0),(a._.provides[x]||a.$route).path==="/"?(o(),F($,{key:1,to:"/new",class:"dark:bg-gray-900/85 mr-4 rounded-full bg-slate-50 w-10 h-10 flex items-center justify-center shadow-xl"},{default:y(()=>[l(v,{name:"i-carbon-camera",class:"w-6 h-6 text-[#9fc84a]"})]),_:1})):u("",!0),e("div",{class:"dark:bg-gray-900/85 mr-4 rounded-full bg-slate-50 w-10 h-10 flex items-center justify-center shadow-xl",onClick:g[2]||(g[2]=w=>f.value=!0)},[l(v,{name:"i-icon-park-solid-more-four",class:"w-6 h-6 text-[#9fc84a] cursor-pointer"})])])])):u("",!0),!n(d).userinfo.token&&(a._.provides[x]||a.$route).path==="/"?(o(),r("div",ee,[e("div",te,[n(m)>300?(o(),r("div",{key:0,onClick:g[3]||(g[3]=w=>m.value=0),class:"dark:bg-gray-900/85 mr-4 rounded-full bg-slate-50 w-10 h-10 flex items-center justify-center shadow-xl"},[l(v,{name:"i-lets-icons-expand-top-stop",class:"w-6 h-6 text-[#9fc84a] cursor-pointer"})])):u("",!0),l($,{to:"/user/login",class:"dark:bg-gray-900/85 mr-4 rounded-full bg-slate-50 w-10 h-10 flex items-center justify-center shadow-xl"},{default:y(()=>[l(v,{name:"i-carbon-login",class:"w-6 h-6 text-[#9fc84a]"})]),_:1})])])):u("",!0),l(A,{open:n(f)},null,8,["open"])])],64)}}});export{ue as default};
